"use strict";(self.webpackChunkphonebook_react_app=self.webpackChunkphonebook_react_app||[]).push([[678],{4678:function(e,n,r){r.r(n),r.d(n,{default:function(){return N}});var s=r(2791),t=r(9434),i=r(4190),o=r(9194),a=r(3634),l=function(e){return e.contacts.isLoading},d=function(e){return e.filter},c=function(e){var n=function(e){return e.contacts.items}(e),r=d(e).toLowerCase();return n.filter((function(e){return e.name.toLowerCase().includes(r)}))},x=r(1413),u=r(4164),m=r(1134),p=r(9948),h=r(5863),j=r(824),b=r(5777),f=r(8820),v=r(3329),g=document.querySelector("#modal-root"),z=function(e){var n,r,s=e.contact,o=e.modalHandler,l=(0,t.I0)(),d=s.id,c=s.name,z=s.number,C=o.isOpen,y=o.onClose,I=(0,m.cI)({defaultValues:{name:c,number:z}}),S=I.register,w=I.handleSubmit,Z=I.reset,k=I.formState.errors;return(0,u.createPortal)((0,v.jsxs)(p.u_,{size:"md",isOpen:C,onClose:y,children:[(0,v.jsx)(p.ZA,{}),(0,v.jsxs)(p.hz,{p:3,children:[(0,v.jsx)(p.ol,{zIndex:"docked"}),(0,v.jsxs)(i.Kq,{as:"form",gap:3,onSubmit:w((function(e){l((0,a.Tk)({id:d,data:e})),Z(),y()})),children:[(0,v.jsxs)(i.xu,{pos:"relative",children:[(0,v.jsxs)(h.lX,{children:["Name",(0,v.jsxs)(j.BZ,{mt:3,children:[(0,v.jsx)(j.II,(0,x.Z)((0,x.Z)({},S("name",{required:"Name is required",pattern:{value:/^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$/,message:"Name may contains only letters, apostrophe, dash and spaces."}})),{},{type:"text"})),(0,v.jsx)(j.Z8,{pointerEvents:"none",children:(0,v.jsx)(f.nf1,{color:"gray.300"})})]})]}),(0,v.jsx)(i.xu,{position:"absolute",top:"95%",children:(null===k||void 0===k?void 0:k.name)&&(0,v.jsx)(i.xv,{fontSize:"xs",color:"#ff001b",textShadow:"rgb(0 0 0 / 25%) 0px 2px 2px",children:(null===k||void 0===k||null===(n=k.name)||void 0===n?void 0:n.message)||"Error"})})]}),(0,v.jsxs)(i.xu,{pos:"relative",children:[(0,v.jsxs)(h.lX,{children:["Number",(0,v.jsxs)(j.BZ,{mt:3,children:[(0,v.jsx)(j.II,(0,x.Z)((0,x.Z)({},S("number",{required:"Number is required",pattern:/\+?\d{1,4}?[-.\s]?\(?\d{1,3}?\)?[-.\s]?\d{1,4}[-.\s]?\d{1,4}[-.\s]?\d{1,9}/,message:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +"})),{},{type:"tel"})),(0,v.jsx)(j.Z8,{pointerEvents:"none",transform:"rotate(-90deg) scale(-1) ",children:(0,v.jsx)(f.Nhm,{color:"gray.300"})})]})]}),(0,v.jsx)(i.xu,{position:"absolute",top:"95%",children:(null===k||void 0===k?void 0:k.number)&&(0,v.jsx)(i.xv,{fontSize:"xs",color:"#ff001b",textShadow:"rgb(0 0 0 / 25%) 0px 2px 2px",children:(null===k||void 0===k||null===(r=k.number)||void 0===r?void 0:r.message)||"Error"})})]}),(0,v.jsx)(b.zx,{type:"submit",children:"Save"})]})]})]}),g)},C=document.querySelector("#modal-root"),y=function(e){var n=e.contact,r=e.modalHandler,s=(0,t.I0)(),o=n.id,l=n.name,d=r.isOpen,c=r.onClose;return(0,u.createPortal)((0,v.jsxs)(p.u_,{size:"md",isOpen:d,onClose:c,children:[(0,v.jsx)(p.ZA,{}),(0,v.jsxs)(p.hz,{p:3,children:[(0,v.jsx)(p.ol,{zIndex:"docked"}),(0,v.jsxs)(p.xB,{children:["Are you sure to delete ",(0,v.jsxs)("b",{children:[" ",l]}),"?"]}),(0,v.jsxs)(i.rj,{templateColumns:"repeat(2, 1fr)",gap:3,children:[(0,v.jsx)(b.zx,{onClick:function(){return s((0,a.GK)(o))},children:"Delete"}),(0,v.jsx)(b.zx,{onClick:c,variant:"outline",children:"Cancel"})]})]})]}),C)},I=r(1197),S=function(e){var n=e.contact,r=n.name,s=n.number,t=(0,I.qY)(),o=(0,I.qY)();return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)(i.kC,{as:"li",justify:"space-between",align:"center",gap:6,w:"300px",p:3,borderRadius:"16px",boxShadow:"0px 4px 18px -2px #c3d0dd",children:[(0,v.jsxs)(i.xu,{children:[(0,v.jsx)(i.xv,{fontSize:"18px",fontWeight:"600",children:r}),(0,v.jsx)(i.xv,{children:s})]}),(0,v.jsxs)(i.kC,{gap:3,children:[(0,v.jsx)(b.zx,{size:"sm",borderRadius:"70% 30% 56% 44% / 44% 61% 39% 56%",onClick:o.onOpen,children:(0,v.jsx)(f.VPh,{})}),(0,v.jsx)(b.zx,{size:"sm",borderRadius:"28% 72% 52% 48% / 44% 53% 47% 56%",onClick:t.onOpen,children:(0,v.jsx)(f.$iz,{})})]})]}),t.isOpen&&(0,v.jsx)(z,{contact:n,modalHandler:t}),o.isOpen&&(0,v.jsx)(y,{contact:n,modalHandler:o})]})},w=function(){var e=(0,t.v9)(c).sort((function(e,n){return e.name.localeCompare(n.name)}));return(0,v.jsx)(i.kC,{as:"ul",direction:"column",gap:4,children:e.map((function(e){return(0,v.jsx)(S,{contact:e},e.id)}))})},Z=r(4808),k=function(){var e=(0,t.v9)(d),n=(0,t.I0)();return(0,v.jsxs)(i.Kq,{w:"300px",mb:5,children:[(0,v.jsx)("label",{htmlFor:"filter",children:"Find contacts by name"}),(0,v.jsx)(j.II,{size:"sm",id:"filter",type:"text",value:e,onChange:function(e){n((0,Z.hL)(e.target.value))}})]})},q=function(){var e,n,r=(0,t.I0)(),s=(0,m.cI)(),o=s.register,l=s.handleSubmit,d=s.reset,c=s.formState.errors;return(0,v.jsx)(i.xu,{children:(0,v.jsxs)(i.Kq,{width:300,as:"form",gap:3,mb:4,onSubmit:l((function(e){r((0,a.uK)(e)),d()})),children:[(0,v.jsxs)(i.xu,{pos:"relative",children:[(0,v.jsx)(h.lX,{children:"Name"}),(0,v.jsx)(j.II,(0,x.Z)((0,x.Z)({size:"sm",w:"300px"},o("name",{required:"Name is required",pattern:{value:/^[a-z A-Z]*$/,message:"Name must be letters"},minLength:{value:2,message:"Name should be at least 2 characters"}})),{},{type:"text"})),(0,v.jsx)(i.xu,{position:"absolute",bottom:-5,children:(null===c||void 0===c?void 0:c.name)&&(0,v.jsx)(i.xv,{fontSize:"xs",color:"#ff001b",textShadow:"rgb(0 0 0 / 25%) 0px 2px 2px",children:(null===c||void 0===c||null===(e=c.name)||void 0===e?void 0:e.message)||"Error"})})]}),(0,v.jsxs)(i.xu,{pos:"relative",children:[(0,v.jsx)(h.lX,{children:"Number"}),(0,v.jsx)(j.II,(0,x.Z)((0,x.Z)({size:"sm",w:"300px"},o("number",{required:"Number is required",pattern:{value:/\+?\d{1,4}?[-.\s]?\(?\d{1,3}?\)?[-.\s]?\d{1,4}[-.\s]?\d{1,4}[-.\s]?\d{1,9}/,message:"Number must be digits and at least 4 characters"}})),{},{type:"tel"})),(0,v.jsx)(i.xu,{position:"absolute",bottom:-5,children:(null===c||void 0===c?void 0:c.number)&&(0,v.jsx)(i.xv,{fontSize:"xs",color:"#ff001b",textShadow:"rgb(0 0 0 / 25%) 0px 2px 2px",children:(null===c||void 0===c||null===(n=c.number)||void 0===n?void 0:n.message)||"Error"})})]}),(0,v.jsx)(b.zx,{size:"sm",w:"300px",type:"submit",children:"Add contact"})]})})};function N(){var e=(0,t.I0)(),n=(0,t.v9)(l);return(0,s.useEffect)((function(){e((0,a.yF)())}),[e]),(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(i.X6,{as:"h1",mb:5,children:"My Contacts"}),(0,v.jsx)(q,{}),(0,v.jsxs)(i.xu,{children:[(0,v.jsx)(k,{}),(0,v.jsx)(i.kC,{justify:"center",w:"300px",mb:2,children:n&&(0,v.jsx)(o.$,{color:"gray.300"})}),(0,v.jsx)(w,{})]})]})}}}]);
//# sourceMappingURL=678.557fd050.chunk.js.map