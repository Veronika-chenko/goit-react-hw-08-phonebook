"use strict";(self.webpackChunkphonebook_react_app=self.webpackChunkphonebook_react_app||[]).push([[470],{9155:function(e,n,r){r.d(n,{V:function(){return a}});var t=r(6907),i=r(3329),a=function(e){var n=e.title;if(n)return(0,i.jsx)(t.ql,{children:(0,i.jsx)("title",{children:n})})}},3470:function(e,n,r){r.r(n),r.d(n,{default:function(){return $}});var t=r(2791),i=r(9434),a=r(1413),s=r(9439),o=r(1367),l=r(7538),u=r(2770);function c(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.ssr,i=void 0===r||r,o=n.fallback,u=(0,l.O)(),c=Array.isArray(e)?e:[e],d=Array.isArray(o)?o:[o];d=d.filter((function(e){return null!=e}));var x=(0,t.useState)((function(){return c.map((function(e,n){return{media:e,matches:i?!!d[n]:u.window.matchMedia(e).matches}}))})),m=(0,s.Z)(x,2),f=m[0],p=m[1];return(0,t.useEffect)((function(){p(c.map((function(e){return{media:e,matches:u.window.matchMedia(e).matches}})));var e=c.map((function(e){return u.window.matchMedia(e)})),n=function(e){p((function(n){return n.slice().map((function(n){return n.media===e.media?(0,a.Z)((0,a.Z)({},n),{},{matches:e.matches}):n}))}))};return e.forEach((function(e){"function"===typeof e.addListener?e.addListener(n):e.addEventListener("change",n)})),function(){e.forEach((function(e){"function"===typeof e.removeListener?e.removeListener(n):e.removeEventListener("change",n)}))}}),[u.window]),f.map((function(e){return e.matches}))}function d(e){var n=typeof e;return null!=e&&("object"===n||"function"===n)&&!Array.isArray(e)}function x(e,n){var r,t=function(e){var n,r,t=d(e)?e:{fallback:null!==e&&void 0!==e?e:"base"},i=(0,o.Fg)().__breakpoints.details.map((function(e){var n=e.minMaxQuery;return{breakpoint:e.breakpoint,query:n.replace("@media screen and ","")}})),a=i.map((function(e){return e.breakpoint===t.fallback})),s=c(i.map((function(e){return e.query})),{fallback:a,ssr:t.ssr});return null!==(n=null==(r=i[s.findIndex((function(e){return 1==e}))])?void 0:r.breakpoint)&&void 0!==n?n:t.fallback}(d(n)?n:{fallback:null!==n&&void 0!==n?n:"base"}),i=(0,o.Fg)();if(t){var a=Array.from((null==(r=i.__breakpoints)?void 0:r.keys)||[]);return function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.AV,t=Object.keys(e).indexOf(n);if(-1!==t)return e[n];for(var i=r.indexOf(n);i>=0;){var a=r[i];if(e.hasOwnProperty(a)){t=i;break}i-=1}if(-1!==t){return e[r[t]]}}(Array.isArray(e)?Object.fromEntries(Object.entries((0,u.Yq)(e,a)).map((function(e){var n=(0,s.Z)(e,2);return[n[0],n[1]]}))):e,t,a)}}var m=r(9712),f=r(9194),p=r(3634),h=function(e){return e.contacts.isLoading},v=function(e){return e.filter},b=function(e){var n=function(e){return e.contacts.items}(e),r=v(e).toLowerCase();return n.filter((function(e){return e.name.toLowerCase().includes(r)}))},j=r(4164),g=r(1134),y=r(9948),k=r(5863),z=r(824),w=r(5777),C=r(8820),Z=r(3329),I=document.querySelector("#modal-root"),S=function(e){var n,r,t=e.contact,s=e.modalHandler,o=(0,i.I0)(),l=t.id,u=t.name,c=t.number,d=s.isOpen,x=s.onClose,f=(0,g.cI)({defaultValues:{name:u,number:c}}),h=f.register,v=f.handleSubmit,b=f.reset,S=f.formState.errors;return(0,j.createPortal)((0,Z.jsxs)(y.u_,{size:"md",isOpen:d,onClose:x,children:[(0,Z.jsx)(y.ZA,{}),(0,Z.jsxs)(y.hz,{p:3,children:[(0,Z.jsx)(y.ol,{zIndex:"docked"}),(0,Z.jsxs)(m.Kq,{as:"form",gap:3,onSubmit:v((function(e){o((0,p.Tk)({id:l,data:e})),b(),x()})),children:[(0,Z.jsxs)(m.xu,{pos:"relative",children:[(0,Z.jsxs)(k.lX,{children:["Name",(0,Z.jsxs)(z.BZ,{mt:3,children:[(0,Z.jsx)(z.II,(0,a.Z)((0,a.Z)({},h("name",{required:"Name is required",pattern:{value:/^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$/,message:"Name may contains only letters, apostrophe, dash and spaces."}})),{},{type:"text"})),(0,Z.jsx)(z.Z8,{pointerEvents:"none",children:(0,Z.jsx)(C.nf1,{color:"gray.300"})})]})]}),(0,Z.jsx)(m.xu,{position:"absolute",top:"95%",children:(null===S||void 0===S?void 0:S.name)&&(0,Z.jsx)(m.xv,{fontSize:"xs",color:"#ff001b",textShadow:"rgb(0 0 0 / 25%) 0px 2px 2px",children:(null===S||void 0===S||null===(n=S.name)||void 0===n?void 0:n.message)||"Error"})})]}),(0,Z.jsxs)(m.xu,{pos:"relative",children:[(0,Z.jsxs)(k.lX,{children:["Number",(0,Z.jsxs)(z.BZ,{mt:3,children:[(0,Z.jsx)(z.II,(0,a.Z)((0,a.Z)({},h("number",{required:"Number is required",pattern:{value:/^\+?[0-9()\s-]{4,}$/,message:"Number must be digits and at least 4 characters"}})),{},{type:"tel"})),(0,Z.jsx)(z.Z8,{pointerEvents:"none",transform:"rotate(-90deg) scale(-1) ",children:(0,Z.jsx)(C.Nhm,{color:"gray.300"})})]})]}),(0,Z.jsx)(m.xu,{position:"absolute",top:"95%",children:(null===S||void 0===S?void 0:S.number)&&(0,Z.jsx)(m.xv,{fontSize:"xs",color:"#ff001b",textShadow:"rgb(0 0 0 / 25%) 0px 2px 2px",children:(null===S||void 0===S||null===(r=S.number)||void 0===r?void 0:r.message)||"Error"})})]}),(0,Z.jsx)(w.zx,{type:"submit",children:"Save"})]})]})]}),I)},q=document.querySelector("#modal-root"),A=function(e){var n=e.contact,r=e.modalHandler,t=(0,i.I0)(),a=n.id,s=n.name,o=r.isOpen,l=r.onClose;return(0,j.createPortal)((0,Z.jsxs)(y.u_,{size:"md",isOpen:o,onClose:l,children:[(0,Z.jsx)(y.ZA,{}),(0,Z.jsxs)(y.hz,{p:3,children:[(0,Z.jsx)(y.ol,{zIndex:"docked"}),(0,Z.jsxs)(y.xB,{children:["Are you sure to delete ",(0,Z.jsxs)("b",{children:[" ",s]}),"?"]}),(0,Z.jsxs)(m.rj,{templateColumns:"repeat(2, 1fr)",gap:3,children:[(0,Z.jsx)(w.zx,{onClick:function(){return t((0,p.GK)(a))},children:"Delete"}),(0,Z.jsx)(w.zx,{onClick:l,variant:"outline",children:"Cancel"})]})]})]}),q)},O=r(1197),N=function(e){var n=e.contact,r=n.name,t=n.number,i=(0,O.qY)(),a=(0,O.qY)();return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)(m.kC,{as:"li",justify:"space-between",align:"center",gap:6,w:{base:"100%",md:"300px"},p:3,borderRadius:"16px",boxShadow:"0px 4px 18px -2px #c3d0dd",children:[(0,Z.jsxs)(m.xu,{children:[(0,Z.jsx)(m.xv,{fontSize:"18px",fontWeight:"600",children:r}),(0,Z.jsx)(m.xv,{children:t})]}),(0,Z.jsxs)(m.kC,{gap:3,children:[(0,Z.jsx)(w.zx,{size:"sm",borderRadius:"70% 30% 56% 44% / 44% 61% 39% 56%",onClick:a.onOpen,children:(0,Z.jsx)(C.VPh,{})}),(0,Z.jsx)(w.zx,{size:"sm",borderRadius:"28% 72% 52% 48% / 44% 53% 47% 56%",onClick:i.onOpen,children:(0,Z.jsx)(C.$iz,{})})]})]}),i.isOpen&&(0,Z.jsx)(S,{contact:n,modalHandler:i}),a.isOpen&&(0,Z.jsx)(A,{contact:n,modalHandler:a})]})},E=function(){var e=(0,i.v9)(b).sort((function(e,n){return e.name.localeCompare(n.name)}));return(0,Z.jsx)(m.kC,{as:"ul",direction:"column",gap:4,children:e.map((function(e){return(0,Z.jsx)(N,{contact:e},e.id)}))})},L=r(4808),_=function(){var e=(0,i.v9)(v),n=(0,i.I0)();return(0,Z.jsxs)(m.Kq,{w:{base:"100%",md:"300px"},mb:5,children:[(0,Z.jsx)("label",{htmlFor:"filter",children:"Find contacts by name"}),(0,Z.jsx)(z.II,{size:"md",id:"filter",type:"text",value:e,onChange:function(e){n((0,L.hL)(e.target.value))}})]})},F=function(){var e,n,r=(0,i.I0)(),t=(0,g.cI)(),s=t.register,o=t.handleSubmit,l=t.reset,u=t.formState.errors;return(0,Z.jsx)(m.xu,{children:(0,Z.jsxs)(m.Kq,{w:{base:"100%",md:"300px"},as:"form",gap:3,mb:4,onSubmit:o((function(e){r((0,p.uK)(e)),l()})),children:[(0,Z.jsxs)(m.xu,{pos:"relative",children:[(0,Z.jsx)(k.lX,{htmlFor:"name",children:"Name"}),(0,Z.jsx)(z.II,(0,a.Z)((0,a.Z)({size:"md",id:"name"},s("name",{required:"Name is required",pattern:{value:/^[a-z A-Z]*$/,message:"Name must be letters"},minLength:{value:2,message:"Name should be at least 2 characters"}})),{},{type:"text"})),(0,Z.jsx)(m.xu,{position:"absolute",bottom:-5,children:(null===u||void 0===u?void 0:u.name)&&(0,Z.jsx)(m.xv,{fontSize:"xs",color:"#ff001b",textShadow:"rgb(0 0 0 / 25%) 0px 2px 2px",children:(null===u||void 0===u||null===(e=u.name)||void 0===e?void 0:e.message)||"Error"})})]}),(0,Z.jsxs)(m.xu,{pos:"relative",children:[(0,Z.jsx)(k.lX,{htmlFor:"number",children:"Number"}),(0,Z.jsx)(z.II,(0,a.Z)((0,a.Z)({size:"md",id:"number"},s("number",{required:"Number is required",pattern:{value:/^\+?[0-9()\s-]{4,}$/,message:"Number must be digits and at least 4 characters"}})),{},{type:"tel"})),(0,Z.jsx)(m.xu,{position:"absolute",bottom:-5,children:(null===u||void 0===u?void 0:u.number)&&(0,Z.jsx)(m.xv,{fontSize:"xs",color:"#ff001b",textShadow:"rgb(0 0 0 / 25%) 0px 2px 2px",children:(null===u||void 0===u||null===(n=u.number)||void 0===n?void 0:n.message)||"Error"})})]}),(0,Z.jsx)(w.zx,{size:"md",type:"submit",children:"Add contact"})]})})},M=r(9155);function $(){var e=(0,i.I0)(),n=(0,i.v9)(h);(0,t.useEffect)((function(){e((0,p.yF)())}),[e]);var r=x({base:!0,md:!1});return(0,Z.jsxs)(m.xu,{maxW:r&&"450px",mx:r&&"auto",children:[(0,Z.jsx)(M.V,{title:"My Contacts"}),(0,Z.jsx)(m.X6,{as:"h1",mb:5,children:"My Contacts"}),(0,Z.jsx)(F,{}),(0,Z.jsxs)(m.xu,{children:[(0,Z.jsx)(_,{}),(0,Z.jsx)(m.kC,{justify:"center",w:"300px",mb:2,children:n&&(0,Z.jsx)(f.$,{color:"gray.300"})}),(0,Z.jsx)(E,{})]})]})}}}]);
//# sourceMappingURL=470.c6f65f4d.chunk.js.map